{"version":3,"sources":["webpack:///./src/lib/GridHelper.js","webpack:///./src/pages/3d.tsx","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./src/styles/theme.ts","webpack:///./src/styles/tufte.ts","webpack:///./src/components/layout.tsx","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/head.tsx"],"names":["LineSegments","Three","VertexColors","LineBasicMaterial","Float32BufferAttribute","BufferGeometry","Color","GridHelper","size","divisions","color1","color2","dir","undefined","center","step","halfSize","vertices","colors","i","j","k","push","color","toArray","geometry","addAttribute","material","vertexColors","call","this","prototype","Object","assign","create","constructor","copy","source","clone","ThreeContainer","numTargets","numInFront","targetScale","boxdepth","screenAspect","jumping","falling","onKeyDown","event","_this","camera","console","log","keyCode","position","x","z","stop","frameId","cancelAnimationFrame","renderer","mount","removeChild","domElement","animate","y","cube","rotation","render","scene","window","requestAnimationFrame","rand","max","Math","round","random","initTargets","targetPositions","targetSizes","depthStep","startDepth","loadTexture","load","componentDidMount","start","componentWillUnmount","width","clientWidth","height","clientHeight","lookAt","antialias","setClearColor","theme","contrastLightest","setSize","appendChild","accent","add","gridHelper","_this2","siteTitle","props","data","site","siteMetadata","title","react_default","a","createElement","layout","head","keywords","className","tabindex","style","ref","React","Component","pageQuery","__webpack_require__","d","__webpack_exports__","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","StaticQueryContext","createContext","Consumer","staticQueryData","query","children","propTypes","PropTypes","object","string","isRequired","func","m","module","exports","require","default","black","background","contrast","white","GlobalStyle","createGlobalStyle","_templateObject","StyledNav","styled","nav","withConfig","displayName","componentId","StyledFooter","footer","Layout","react__WEBPACK_IMPORTED_MODULE_1___default","Fragment","_styles_theme__WEBPACK_IMPORTED_MODULE_3__","gatsby__WEBPACK_IMPORTED_MODULE_2__","to","role","Date","getFullYear","href","ProdPageRenderer","_ref","location","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","json","shape","Head","react__WEBPACK_IMPORTED_MODULE_3___default","gatsby__WEBPACK_IMPORTED_MODULE_5__","metaDescription","description","lang","react_helmet__WEBPACK_IMPORTED_MODULE_4___default","htmlAttributes","titleTemplate","meta","name","content","property","author","concat","length","join","_public_static_d_872482878_json__WEBPACK_IMPORTED_MODULE_2__"],"mappings":"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","file":"component---src-pages-3-d-tsx-91f416262b54ac86670d.js","sourcesContent":["/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nimport * as Three from 'three'\n\nconst {\n  LineSegments,\n  VertexColors,\n  LineBasicMaterial,\n  Float32BufferAttribute,\n  BufferGeometry,\n  Color,\n} = Three\n\nfunction GridHelper(size, divisions, color1, color2, dir) {\n  size = size || 10\n  divisions = divisions || 10\n  color1 = new Color(color1 !== undefined ? color1 : 0x444444)\n  color2 = new Color(color2 !== undefined ? color2 : 0x888888)\n\n  var center = divisions / 2\n  var step = size / divisions\n  var halfSize = size / 2\n\n  var vertices = [],\n    colors = []\n\n  for (var i = 0, j = 0, k = -halfSize; i <= divisions; i++, k += step) {\n    if (dir === 'x') {\n      vertices.push(-halfSize, 0, k, halfSize, 0, k)\n      vertices.push(k, 0, -halfSize, k, 0, halfSize)\n    } else if (dir === 'y') {\n      vertices.push(0, -halfSize, k, 0, halfSize, k)\n      vertices.push(0, k, -halfSize, 0, k, halfSize)\n    } else {\n      vertices.push(-halfSize, k, 0, halfSize, k, 0)\n      vertices.push(k, -halfSize, 0, k, halfSize, 0)\n    }\n\n    var color = i === center ? color1 : color2\n\n    color.toArray(colors, j)\n    j += 3\n    color.toArray(colors, j)\n    j += 3\n    color.toArray(colors, j)\n    j += 3\n    color.toArray(colors, j)\n    j += 3\n  }\n\n  var geometry = new BufferGeometry()\n  geometry.addAttribute('position', new Float32BufferAttribute(vertices, 3))\n  geometry.addAttribute('color', new Float32BufferAttribute(colors, 3))\n\n  var material = new LineBasicMaterial({vertexColors: VertexColors})\n\n  LineSegments.call(this, geometry, material)\n}\n\nGridHelper.prototype = Object.assign(Object.create(LineSegments.prototype), {\n  constructor: GridHelper,\n\n  copy: function(source) {\n    LineSegments.prototype.copy.call(this, source)\n\n    this.geometry.copy(source.geometry)\n    this.material.copy(source.material)\n\n    return this\n  },\n\n  clone: function() {\n    return new this.constructor().copy(this)\n  },\n})\n\nexport {GridHelper}\n","import React from 'react'\nimport {graphql} from 'gatsby'\nimport * as Three from 'three'\n\nimport {GridHelper} from '../lib/GridHelper'\n\nimport Layout from '../components/layout'\nimport Head from '../components/head'\nimport {theme} from '../styles/theme'\n\ninterface Props {\n  readonly data: PageQueryData\n}\n\nexport default class ThreeContainer extends React.Component<Props> {\n  private mount: any\n  private renderer?: Three.WebGLRenderer\n  private scene?: Three.Scene\n  private camera?: Three.PerspectiveCamera\n  private cube?: Three.Mesh\n  private frameId?: number\n\n  private targetPositions: any\n  private targetSizes: any\n  private numTargets = 10\n  private numInFront = 3\n  private targetScale = 0.065\n  private boxdepth = 7\n  private screenAspect = 0\n  private jumping = false\n  private falling = false\n\n  rand(max: number): number {\n    return Math.round(Math.random() * max)\n  }\n\n  initTargets() {\n    this.targetPositions = []\n    this.targetSizes = []\n    const depthStep = this.boxdepth / 2.0 / this.numTargets\n    const startDepth = this.numInFront * depthStep\n    for (let i = 0; i < this.numTargets; i++) {\n      this.targetPositions.push(\n        new Three.Vector3(\n          0.7 * this.screenAspect * (this.rand(1000) / 1000.0 - 0.5),\n          0.7 * (this.rand(1000) / 1000.0 - 0.5),\n          startDepth - i * depthStep,\n        ),\n      )\n      // Pull in the ones out in front of the display closer the center so they stay in frame\n      if (i < this.numInFront) {\n        this.targetPositions[i].x *= 0.5\n        this.targetPositions[i].y *= 0.5\n      }\n      this.targetSizes.push(new Three.Vector3(this.targetScale, this.targetScale, this.targetScale))\n    }\n  }\n\n  loadTexture() {\n    let texture = new Three.TextureLoader().load('/target.png')\n\n    return texture\n  }\n\n  componentDidMount() {\n    this.start()\n  }\n\n  componentWillUnmount() {\n    this.stop()\n  }\n\n  onKeyDown = (event: KeyEvent) => {\n    if (!this.camera) return\n    console.log(event.keyCode)\n    switch (event.keyCode) {\n      case 65: // a\n        this.camera.position.x -= 0.1\n        break\n      case 83: // s\n        this.camera.position.z += 0.1\n        break\n      case 68: // d\n        this.camera.position.x += 0.1\n        break\n      case 87: // w\n        this.camera.position.z -= 0.1\n        break\n      case 32: // space\n        if (this.jumping || this.falling) return\n        this.jumping = true\n        break\n    }\n  }\n\n  start() {\n    const width = this.mount.clientWidth\n    const height = this.mount.clientHeight\n    this.scene = new Three.Scene()\n\n    this.camera = new Three.PerspectiveCamera(75, width / height, 0.1, 1000)\n    this.camera.lookAt(5, 0, 0)\n    //this.camera.position.z = 4\n\n    this.renderer = new Three.WebGLRenderer({antialias: true})\n    this.renderer.setClearColor(theme.colors.contrastLightest)\n    this.renderer.setSize(width, height)\n    this.mount.appendChild(this.renderer.domElement)\n\n    let material, geometry\n    geometry = new Three.BoxGeometry(1, 1, 1)\n    material = new Three.MeshBasicMaterial({color: theme.colors.accent})\n    this.cube = new Three.Mesh(geometry, material)\n    this.scene.add(this.cube)\n\n    // front wall\n    var gridHelper = new GridHelper(10, 10, 0x0000ff, 0x8080f0)\n    gridHelper.position.y = 0\n    gridHelper.position.x = 0\n    gridHelper.position.z = -5\n    this.scene.add(gridHelper)\n\n    // floor\n    gridHelper = new GridHelper(10, 10, 0x0000ff, 0x808080, 'x')\n    gridHelper.position.y = -5\n    gridHelper.position.x = 0\n    this.scene.add(gridHelper)\n\n    // left\n    gridHelper = new GridHelper(10, 10, 0x0000ff, 0xf08080, 'y')\n    gridHelper.position.y = 0\n    gridHelper.position.x = -5\n    this.scene.add(gridHelper)\n\n    // right\n    gridHelper = new GridHelper(10, 10, 0x0000ff, 0x30a060, 'y')\n    gridHelper.position.y = 0\n    gridHelper.position.x = 5\n    this.scene.add(gridHelper)\n\n    if (!this.frameId) {\n      this.frameId = requestAnimationFrame(this.animate)\n    }\n  }\n\n  stop = () => {\n    if (this.frameId) {\n      cancelAnimationFrame(this.frameId)\n    }\n    if (!this.renderer) return\n    this.mount.removeChild(this.renderer.domElement)\n  }\n\n  animate = () => {\n    if (this.camera) {\n      if (this.jumping) this.camera.position.y += 0.1\n      if (this.falling) this.camera.position.y -= 0.1\n      if (this.camera.position.y >= 3) {\n        this.jumping = false\n        this.falling = true\n      }\n      if (this.camera.position.y <= 0) {\n        this.falling = false\n        this.camera.position.y = 0\n      }\n    }\n    if (this.cube) {\n      this.cube.rotation.x += 0.01\n      this.cube.rotation.y += 0.01\n    }\n    this.renderer!.render(this.scene!, this.camera!)\n    this.frameId = window.requestAnimationFrame(this.animate)\n  }\n\n  render() {\n    const {data} = this.props\n    const siteTitle = data.site.siteMetadata.title\n\n    return (\n      <Layout title={siteTitle}>\n        <Head title=\"Three.js scene\" keywords={[`blog`, `gatsby`, `javascript`, `react`]} />\n        <article>\n          <h1>three.js</h1>\n          <div className={`page-content`}>\n            <div\n              tabindex={0}\n              onKeyDown={this.onKeyDown}\n              style={{width: '800px', height: '800px'}}\n              ref={mount => {\n                this.mount = mount\n              }}\n            />\n          </div>\n        </article>\n      </Layout>\n    )\n  }\n}\n\ninterface PageQueryData {\n  site: {\n    siteMetadata: {\n      title: string\n    }\n  }\n}\n\nexport const pageQuery = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n  }\n`\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import styled, {css, createGlobalStyle} from 'styled-components'\nimport tufte from './tufte'\n\nexport {css, styled}\n\nexport const theme = {\n  colors: {\n    black: '#000000',\n    background: '#fffff8',\n    contrast: '#111',\n    contrastLightest: '#dad9d9',\n    accent: 'red',\n    white: '#ffffff'\n  }\n}\n\nconst reset = () => `\nhtml {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\n*, *::before, *::after {\n  box-sizing: inherit;\n}\n\nbody {\n  margin: 0 !important;\n  padding: 0;\n}\n\n::selection {\n  background-color: ${theme.colors.contrastLightest};\n  color: rgba(0, 0, 0, 0.70);\n}\n\na.anchor, a.anchor:hover, a.anchor:link {\n  background: none !important;\n}\n\nfigure {\n  a.gatsby-resp-image-link {\n    background: none;\n  }\n\n  span.gatsby-resp-image-wrapper {\n    max-width: 100% !important;\n  }\n}\n\n`\n\nexport const GlobalStyle = createGlobalStyle`\n${reset()}\n${tufte()}\n`\n","export default () => `\n@charset \"UTF-8\";\n\n/* Import ET Book styles\n   adapted from https://github.com/edwardtufte/et-book/blob/gh-pages/et-book.css */\n\n@font-face { font-family: \"et-book\";\n             src: url(\"/et-book/et-book-roman-line-figures/et-book-roman-line-figures.eot\");\n             src: url(\"/et-book/et-book-roman-line-figures/et-book-roman-line-figures.eot?#iefix\") format(\"embedded-opentype\"), url(\"/et-book/et-book-roman-line-figures/et-book-roman-line-figures.woff\") format(\"woff\"), url(\"/et-book/et-book-roman-line-figures/et-book-roman-line-figures.ttf\") format(\"truetype\"), url(\"/et-book/et-book-roman-line-figures/et-book-roman-line-figures.svg#etbookromanosf\") format(\"svg\");\n             font-weight: normal;\n             font-style: normal; }\n\n@font-face { font-family: \"et-book\";\n             src: url(\"/et-book/et-book-display-italic-old-style-figures/et-book-display-italic-old-style-figures.eot\");\n             src: url(\"/et-book/et-book-display-italic-old-style-figures/et-book-display-italic-old-style-figures.eot?#iefix\") format(\"embedded-opentype\"), url(\"/et-book/et-book-display-italic-old-style-figures/et-book-display-italic-old-style-figures.woff\") format(\"woff\"), url(\"/et-book/et-book-display-italic-old-style-figures/et-book-display-italic-old-style-figures.ttf\") format(\"truetype\"), url(\"/et-book/et-book-display-italic-old-style-figures/et-book-display-italic-old-style-figures.svg#etbookromanosf\") format(\"svg\");\n             font-weight: normal;\n             font-style: italic; }\n\n@font-face { font-family: \"et-book\";\n             src: url(\"/et-book/et-book-bold-line-figures/et-book-bold-line-figures.eot\");\n             src: url(\"/et-book/et-book-bold-line-figures/et-book-bold-line-figures.eot?#iefix\") format(\"embedded-opentype\"), url(\"/et-book/et-book-bold-line-figures/et-book-bold-line-figures.woff\") format(\"woff\"), url(\"/et-book/et-book-bold-line-figures/et-book-bold-line-figures.ttf\") format(\"truetype\"), url(\"/et-book/et-book-bold-line-figures/et-book-bold-line-figures.svg#etbookromanosf\") format(\"svg\");\n             font-weight: bold;\n             font-style: normal; }\n\n@font-face { font-family: \"et-book-roman-old-style\";\n             src: url(\"/et-book/et-book-roman-old-style-figures/et-book-roman-old-style-figures.eot\");\n             src: url(\"/et-book/et-book-roman-old-style-figures/et-book-roman-old-style-figures.eot?#iefix\") format(\"embedded-opentype\"), url(\"/et-book/et-book-roman-old-style-figures/et-book-roman-old-style-figures.woff\") format(\"woff\"), url(\"/et-book/et-book-roman-old-style-figures/et-book-roman-old-style-figures.ttf\") format(\"truetype\"), url(\"/et-book/et-book-roman-old-style-figures/et-book-roman-old-style-figures.svg#etbookromanosf\") format(\"svg\");\n             font-weight: normal;\n             font-style: normal; }\n\n/* Tufte CSS styles */\nhtml { font-size: 15px; }\n\nbody { width: 87.5%;\n       margin-left: auto;\n       margin-right: auto;\n       padding-left: 12.5%;\n       font-family: et-book, Palatino, \"Palatino Linotype\", \"Palatino LT STD\", \"Book Antiqua\", Georgia, serif;\n       background-color: #fffff8;\n       color: #111;\n       max-width: 1400px;\n       counter-reset: sidenote-counter; }\n\nh1 { font-weight: 400;\n     margin-top: 4rem;\n     margin-bottom: 1.5rem;\n     font-size: 3.2rem;\n     line-height: 1; }\n\nh2 { font-style: italic;\n     font-weight: 400;\n     margin-top: 2.1rem;\n     margin-bottom: 1.4rem;\n     font-size: 2.2rem;\n     line-height: 1; }\n\nh3 { font-style: italic;\n     font-weight: 400;\n     font-size: 1.7rem;\n     margin-top: 2rem;\n     margin-bottom: 1.4rem;\n     line-height: 1; }\n\nhr { display: block;\n     height: 1px;\n     width: 55%;\n     border: 0;\n     border-top: 1px solid #ccc;\n     margin: 1em 0;\n     padding: 0; }\n\np.subtitle { font-style: italic;\n             margin-top: 1rem;\n             margin-bottom: 1rem;\n             font-size: 1.8rem;\n             display: block;\n             line-height: 1; }\n\n.numeral { font-family: et-book-roman-old-style; }\n\n.danger { color: red; }\n\narticle { position: relative;\n          padding: 5rem 0rem; }\n\nsection { padding-top: 1rem;\n          padding-bottom: 1rem; }\n\np, ol, ul { font-size: 1.4rem;\n            line-height: 2rem; }\n\np { margin-top: 1.4rem;\n    margin-bottom: 1.4rem;\n    padding-right: 0;\n    vertical-align: baseline; }\n\n/* Chapter Epigraphs */\ndiv.epigraph { margin: 5em 0; }\n\ndiv.epigraph > blockquote { margin-top: 3em;\n                            margin-bottom: 3em; }\n\ndiv.epigraph > blockquote, div.epigraph > blockquote > p { font-style: italic; }\n\ndiv.epigraph > blockquote > footer { font-style: normal; }\n\ndiv.epigraph > blockquote > footer > cite { font-style: italic; }\n/* end chapter epigraphs styles */\n\nblockquote { font-size: 1.4rem; }\n\nblockquote p { width: 55%;\n               margin-right: 40px; }\n\nblockquote footer { width: 55%;\n                    font-size: 1.1rem;\n                    text-align: right; }\n\nsection > p, section > footer, section > table { width: 55%; }\n\n/* 50 + 5 == 55, to be the same width as paragraph */\nsection > ol, section > ul { width: 50%;\n                             -webkit-padding-start: 5%; }\n\nli:not(:first-child) { margin-top: 0.25rem; }\n\nfigure { padding: 0;\n         border: 0;\n         font-size: 100%;\n         font: inherit;\n         vertical-align: baseline;\n         max-width: 55%;\n         -webkit-margin-start: 0;\n         -webkit-margin-end: 0;\n         margin: 0 0 3em 0; }\n\nfigcaption { float: right;\n             clear: right;\n             margin-top: 0;\n             margin-bottom: 0;\n             font-size: 1.1rem;\n             line-height: 1.6;\n             vertical-align: baseline;\n             position: relative;\n             max-width: 40%; }\n\nfigure.fullwidth figcaption { margin-right: 24%; }\n\n/* Links: replicate underline that clears descenders */\na:link, a:visited { color: inherit; }\n\na:link { text-decoration: none;\n         display: inline-block;\n         background: -webkit-linear-gradient(#fffff8, #fffff8), -webkit-linear-gradient(#fffff8, #fffff8), -webkit-linear-gradient(#333, #333);\n         background: linear-gradient(#fffff8, #fffff8), linear-gradient(#fffff8, #fffff8), linear-gradient(#333, #333);\n         -webkit-background-size: 0.05em 1px, 0.05em 1px, 1px 1px;\n         -moz-background-size: 0.05em 1px, 0.05em 1px, 1px 1px;\n         background-size: 0.05em 1px, 0.05em 1px, 1px 1px;\n         background-repeat: no-repeat, no-repeat, repeat-x;\n         background-position: 0% 101%, 101% 101%, 0% 101%; }\n\n@media screen and (-webkit-min-device-pixel-ratio: 0) { a:link { background-position-y: 101%, 101%, 101%; } }\n\n/* Sidenotes, margin notes, figures, captions */\nimg { max-width: 100%; }\n\n.sidenote, .marginnote { float: right;\n                         clear: right;\n                         margin-right: -60%;\n                         width: 50%;\n                         margin-top: 0;\n                         margin-bottom: 0;\n                         margin-left: 5%;\n                         font-size: 1.1rem;\n                         line-height: 1.3;\n                         vertical-align: baseline;\n                         position: relative; }\n\n.sidenote-number { counter-increment: sidenote-counter; }\n\n.sidenote-number:after, .sidenote:before { font-family: et-book-roman-old-style;\n                                           position: relative;\n                                           vertical-align: baseline; }\n\n.sidenote-number:after { content: counter(sidenote-counter);\n                         font-size: 1rem;\n                         top: -0.5rem;\n                         left: 0.1rem; }\n\n.sidenote:before { content: counter(sidenote-counter) \" \";\n                   font-size: 1rem;\n                   top: -0.5rem; }\n\nblockquote .sidenote, blockquote .marginnote { margin-right: -82%;\n                                               min-width: 59%;\n                                               text-align: left; }\n\ndiv.fullwidth, table.fullwidth { width: 100%; }\n\ndiv.table-wrapper { overflow-x: auto;\n                    font-family: \"Trebuchet MS\", \"Gill Sans\", \"Gill Sans MT\", sans-serif; }\n\n.sans { font-family: \"Gill Sans\", \"Gill Sans MT\", Calibri, sans-serif;\n        letter-spacing: .03em; }\n\ncode { font-family: Consolas, \"Liberation Mono\", Menlo, Courier, monospace;\n       font-size: 1.0rem;\n       line-height: 1.42; }\n\n.sans > code { font-size: 1.2rem; }\n\nh1 > code, h2 > code, h3 > code { font-size: 0.80em; }\n\n.marginnote > code, .sidenote > code { font-size: 1rem; }\n\npre.code { font-size: 0.9rem;\n           width: 52.5%;\n           margin-left: 2.5%;\n           overflow-x: auto; }\n\npre.code.fullwidth { width: 90%; }\n\n.fullwidth { max-width: 90%;\n             clear:both; }\n\nspan.newthought { font-variant: small-caps;\n                  font-size: 1.2em; }\n\ninput.margin-toggle { display: none; }\n\nlabel.sidenote-number { display: inline; }\n\nlabel.margin-toggle:not(.sidenote-number) { display: none; }\n\n.iframe-wrapper { position: relative;\n                  padding-bottom: 56.25%; /* 16:9 */\n                  padding-top: 25px;\n                  height: 0; }\n\n.iframe-wrapper iframe { position: absolute;\n                         top: 0;\n                         left: 0;\n                         width: 100%;\n                         height: 100%; }\n\n@media (max-width: 760px) { body { width: 84%;\n                                   padding-left: 8%;\n                                   padding-right: 8%; }\n                            hr, section > p, section > footer, section > table { width: 100%; }\n                            pre.code { width: 97%; }\n                            section > ol { width: 90%; }\n                            section > ul { width: 90%; }\n                            figure { max-width: 90%; }\n                            figcaption, figure.fullwidth figcaption { margin-right: 0%;\n                                                                      max-width: none; }\n                            blockquote { margin-left: 1.5em;\n                                         margin-right: 0em; }\n                            blockquote p, blockquote footer { width: 100%; }\n                            label.margin-toggle:not(.sidenote-number) { display: inline; }\n                            .sidenote, .marginnote { display: none; }\n                            .margin-toggle:checked + .sidenote,\n                            .margin-toggle:checked + .marginnote { display: block;\n                                                                   float: left;\n                                                                   left: 1rem;\n                                                                   clear: both;\n                                                                   width: 95%;\n                                                                   margin: 1rem 2.5%;\n                                                                   vertical-align: baseline;\n                                                                   position: relative; }\n                            label { cursor: pointer; }\n                            div.table-wrapper, table { width: 85%; }\n                            img { width: 100%; } }\n`\n","import React from 'react'\nimport {Link} from 'gatsby'\nimport {GlobalStyle, styled} from '../styles/theme'\n\nconst StyledNav = styled.nav`\n  ul {\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n  }\n\n  li {\n    display: inline-block;\n    margin: 16px;\n\n    a {\n      background: none;\n    }\n  }\n`\n\nconst StyledFooter = styled.footer`\n  padding-bottom: 36px;\n`\n\ninterface Props {\n  readonly title?: string\n}\n\nexport default class Layout extends React.Component<Props> {\n  render() {\n    const {children} = this.props\n\n    return (\n      <>\n        <GlobalStyle />\n        <StyledNav className=\"navigation\">\n          <ul>\n            <li>\n              <Link to={`/`}>&</Link>\n            </li>\n            <li>\n              <Link to={`/tags`}>Tags</Link>\n            </li>\n            <li>\n              <Link to={`/about`}>About</Link>\n            </li>\n          </ul>\n        </StyledNav>\n        <main className=\"content\" role=\"main\">\n          {children}\n        </main>\n        <StyledFooter className=\"footer\">\n          © {new Date().getFullYear()},{` `}\n          <a href=\"https://jeffrafter.com\">jeffrafter.com</a>. Built with\n          {` `}\n          <a href=\"https://www.gatsbyjs.org\">Gatsby</a>\n        </StyledFooter>\n      </>\n    )\n  }\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import React from 'react'\nimport Helmet from 'react-helmet'\nimport {StaticQuery, graphql} from 'gatsby'\n\ntype StaticQueryData = {\n  site: {\n    siteMetadata: {\n      title: string\n      description: string\n      author: {\n        name: string\n      }\n    }\n  }\n}\n\ninterface Props {\n  readonly title: string\n  readonly description?: string\n  readonly lang?: string\n  readonly keywords?: string[]\n}\n\nexport default class Head extends React.Component<Props> {\n  render() {\n    return (\n      <StaticQuery\n        query={graphql`\n          query {\n            site {\n              siteMetadata {\n                title\n                description\n                author {\n                  name\n                }\n              }\n            }\n          }\n        `}\n        render={(data: StaticQueryData) => {\n          const metaDescription = this.props.description || data.site.siteMetadata.description\n          const lang = this.props.lang || 'en'\n          const title = this.props.title\n          const keywords = this.props.keywords || []\n          return (\n            <Helmet\n              htmlAttributes={{\n                lang,\n              }}\n              title={title}\n              titleTemplate={`%s | ${data.site.siteMetadata.title}`}\n              meta={[\n                {\n                  name: `description`,\n                  content: metaDescription,\n                },\n                {\n                  property: `og:title`,\n                  content: title,\n                },\n                {\n                  property: `og:description`,\n                  content: metaDescription,\n                },\n                {\n                  property: `og:type`,\n                  content: `website`,\n                },\n                {\n                  name: `twitter:card`,\n                  content: `summary`,\n                },\n                {\n                  name: `twitter:creator`,\n                  content: data.site.siteMetadata.author.name,\n                },\n                {\n                  name: `twitter:title`,\n                  content: title,\n                },\n                {\n                  name: `twitter:description`,\n                  content: metaDescription,\n                },\n              ].concat(\n                keywords.length > 0\n                  ? {\n                      name: `keywords`,\n                      content: keywords.join(`, `),\n                    }\n                  : [],\n              )}\n            />\n          )\n        }}\n      />\n    )\n  }\n}\n"],"sourceRoot":""}