<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.237ba1bc08ffadef5a9e.css">html{box-sizing:border-box;margin:0;padding:0}*,:after,:before{box-sizing:inherit}body{margin:0!important;padding:0}a.anchor,a.anchor:hover,a.anchor:link{background:none!important}figure a.gatsby-resp-image-link{background:none}figure span.gatsby-resp-image-wrapper{max-width:100%!important}article .excerpt{display:none}.btn,.button{display:inline-block;background:none!important;border-radius:40px;line-height:40px;min-height:40px;min-width:80px;padding:0 12px;text-align:center;text-decoration:none;border:1px solid #666;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji}@font-face{font-family:et-book;src:url(/et-book/et-book-roman-line-figures/et-book-roman-line-figures.eot);src:url(/et-book/et-book-roman-line-figures/et-book-roman-line-figures.eot?#iefix) format("embedded-opentype"),url(/et-book/et-book-roman-line-figures/et-book-roman-line-figures.woff) format("woff"),url(/et-book/et-book-roman-line-figures/et-book-roman-line-figures.ttf) format("truetype"),url(/et-book/et-book-roman-line-figures/et-book-roman-line-figures.svg#etbookromanosf) format("svg");font-weight:400;font-style:normal}@font-face{font-family:et-book;src:url(/et-book/et-book-display-italic-old-style-figures/et-book-display-italic-old-style-figures.eot);src:url(/et-book/et-book-display-italic-old-style-figures/et-book-display-italic-old-style-figures.eot?#iefix) format("embedded-opentype"),url(/et-book/et-book-display-italic-old-style-figures/et-book-display-italic-old-style-figures.woff) format("woff"),url(/et-book/et-book-display-italic-old-style-figures/et-book-display-italic-old-style-figures.ttf) format("truetype"),url(/et-book/et-book-display-italic-old-style-figures/et-book-display-italic-old-style-figures.svg#etbookromanosf) format("svg");font-weight:400;font-style:italic}@font-face{font-family:et-book;src:url(/et-book/et-book-bold-line-figures/et-book-bold-line-figures.eot);src:url(/et-book/et-book-bold-line-figures/et-book-bold-line-figures.eot?#iefix) format("embedded-opentype"),url(/et-book/et-book-bold-line-figures/et-book-bold-line-figures.woff) format("woff"),url(/et-book/et-book-bold-line-figures/et-book-bold-line-figures.ttf) format("truetype"),url(/et-book/et-book-bold-line-figures/et-book-bold-line-figures.svg#etbookromanosf) format("svg");font-weight:700;font-style:normal}@font-face{font-family:et-book-roman-old-style;src:url(/et-book/et-book-roman-old-style-figures/et-book-roman-old-style-figures.eot);src:url(/et-book/et-book-roman-old-style-figures/et-book-roman-old-style-figures.eot?#iefix) format("embedded-opentype"),url(/et-book/et-book-roman-old-style-figures/et-book-roman-old-style-figures.woff) format("woff"),url(/et-book/et-book-roman-old-style-figures/et-book-roman-old-style-figures.ttf) format("truetype"),url(/et-book/et-book-roman-old-style-figures/et-book-roman-old-style-figures.svg#etbookromanosf) format("svg");font-weight:400;font-style:normal}html{font-size:15px}body{width:87.5%;margin-left:auto;margin-right:auto;padding-left:12.5%;font-family:et-book,Palatino,Palatino Linotype,Palatino LT STD,Book Antiqua,Georgia,serif;background-color:#fffff8;color:#111;max-width:1400px;counter-reset:sidenote-counter}h1{font-weight:400;margin-top:4rem;margin-bottom:1.5rem;font-size:3.2rem;line-height:1}h2{margin-top:2.1rem;font-size:2.2rem}h2,h3{font-style:italic;font-weight:400;margin-bottom:1.4rem;line-height:1}h3{font-size:1.7rem;margin-top:2rem}hr{display:block;height:1px;width:55%;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}p.subtitle{font-style:italic;margin-top:1rem;margin-bottom:1rem;font-size:1.8rem;display:block;line-height:1}.numeral{font-family:et-book-roman-old-style}.danger{color:red}article{position:relative;padding:1rem 0}section{padding-top:1rem;padding-bottom:1rem}ol,p,ul{font-size:1.4rem;line-height:2rem}p{margin-top:1.4rem;margin-bottom:1.4rem;padding-right:0;vertical-align:baseline}div.epigraph{margin:5em 0}div.epigraph>blockquote{margin-top:3em;margin-bottom:3em}div.epigraph>blockquote,div.epigraph>blockquote>p{font-style:italic}div.epigraph>blockquote>footer{font-style:normal}div.epigraph>blockquote>footer>cite{font-style:italic}blockquote{font-size:1.4rem}blockquote p{width:55%;margin-right:40px;font-style:italic;color:#999}blockquote footer{width:55%;font-size:1.1rem;text-align:right}section>footer,section>p,section>table{width:55%;clear:left}section>ol,section>ul{width:55%;-webkit-padding-start:5%}li:not(:first-child){margin-top:.25rem}figure{padding:0;border:0;font-size:100%;font:inherit;max-width:55%;-webkit-margin-start:0;-webkit-margin-end:0;-webkit-margin-before:0;margin-block-start:0;-webkit-margin-after:0;margin-block-end:0;margin:0 0 3em}figcaption,figure{vertical-align:baseline}figcaption{margin-top:-2em;margin-bottom:0;font-size:1.1rem;font-style:italic;line-height:1.6;position:relative;max-width:40%}figure.fullwidth figcaption{max-width:80%}a:link,a:visited{color:inherit}a:link{text-decoration:none;border-bottom:1px solid #000;padding-bottom:.05em;margin-bottom:.05em;word-break:break-word}a.anchor:link,nav.navigation a{border-bottom:0;padding-bottom:0;margin-bottom:0}@media screen and (-webkit-min-device-pixel-ratio:0){a:link{background-position-y:101%,101%,101%}}img{max-width:100%}.sidenote{margin-bottom:2em!important}.marginnote,.sidenote{float:right;clear:right;width:45%;margin:0 -75% 0 5%;font-size:1.1rem;line-height:1.3;vertical-align:baseline;position:relative}.sidenote-number{counter-increment:sidenote-counter}.sidenote-number:after,.sidenote:before{font-family:et-book-roman-old-style;position:relative;vertical-align:baseline}.sidenote-number:after{content:counter(sidenote-counter);font-size:1rem;top:-.5rem;left:.1rem}.sidenote:before{content:counter(sidenote-counter) " ";font-size:1rem;top:-.5rem}blockquote .marginnote,blockquote .sidenote{margin-right:-82%;min-width:59%;text-align:left}div.fullwidth,table.fullwidth{width:100%}div.table-wrapper{overflow-x:auto}.sans,div.table-wrapper{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji}.sans{letter-spacing:.03em}code{font-family:Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:1rem;line-height:1.42}.sans>code{font-size:1.2rem}h1>code,h2>code,h3>code{font-size:.8em}.marginnote>code,.sidenote>code{font-size:1rem}pre.code{font-size:.9rem;width:52.5%;margin-left:2.5%;overflow-x:auto}pre.code.fullwidth{width:90%}.fullwidth{max-width:100%;clear:both}span.newthought{font-variant:small-caps;font-size:1.2em}input.margin-toggle{display:none}label.sidenote-number{display:inline}label.margin-toggle:not(.sidenote-number){display:none}.iframe-wrapper{position:relative;padding-bottom:56.25%;padding-top:25px;height:0}.iframe-wrapper iframe{position:absolute;top:0;left:0;width:100%;height:100%}@media (max-width:760px){body{padding-left:8%;padding-right:8%}body,hr,section>footer,section>p,section>table{width:100%}pre.code{width:97%}section>ol,section>ul{width:90%}figure{max-width:90%}figcaption,figure.fullwidth figcaption{margin-right:0;max-width:none}blockquote{margin-left:1.5em;margin-right:0}blockquote footer,blockquote p{width:100%}label.margin-toggle:not(.sidenote-number){display:inline}.marginnote,.sidenote{display:none}.margin-toggle:checked+.marginnote,.margin-toggle:checked+.sidenote{display:block;float:left;left:1rem;clear:both;width:95%;margin:1rem 2.5%;vertical-align:baseline;position:relative}label{cursor:pointer}div.table-wrapper,table{width:85%}img{width:100%}}:not(pre)>code[class*=language-]{font-size:.9em!important}.gatsby-highlight:after{content:"";display:block;clear:both}.gatsby-highlight{clear:both}h4{font-size:1.3em}.markdown-body ol,.markdown-body p,.markdown-body ul{font-size:inherit;line-height:inherit}.markdown-body blockquote{font-size:inherit}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto;padding:24px;letter-spacing:normal;border-bottom:1px solid #efefef}@media (max-width:767px){.markdown-body{padding:15px}}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.markdown-body .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.markdown-body .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}.markdown-body .anchor:focus{outline:none}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1:hover .anchor .octicon-link:before,.markdown-body h2:hover .anchor .octicon-link:before,.markdown-body h3:hover .anchor .octicon-link:before,.markdown-body h4:hover .anchor .octicon-link:before,.markdown-body h5:hover .anchor .octicon-link:before,.markdown-body h6:hover .anchor .octicon-link:before{width:16px;height:16px;content:" ";display:inline-block;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'/%3E%3C/svg%3E")}.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#24292e;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body details{display:block}.markdown-body summary{display:list-item}.markdown-body a{background-color:initial}.markdown-body a:active,.markdown-body a:hover{outline-width:0}.markdown-body strong{font-weight:inherit;font-weight:bolder}.markdown-body h1{margin:.67em 0}.markdown-body img{border-style:none}.markdown-body code,.markdown-body kbd,.markdown-body pre{font-family:monospace,monospace;font-size:1em}.markdown-body hr{box-sizing:initial;overflow:visible}.markdown-body input{font:inherit;margin:0;overflow:visible}.markdown-body [type=checkbox]{box-sizing:border-box;padding:0}.markdown-body *{box-sizing:border-box}.markdown-body input{font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body a{color:#0366d6;text-decoration:none}.markdown-body a:hover{text-decoration:underline}.markdown-body strong{font-weight:600}.markdown-body hr{height:0;margin:15px 0;overflow:hidden;background:transparent;border-bottom:1px solid #dfe2e5}.markdown-body hr:after,.markdown-body hr:before{display:table;content:""}.markdown-body hr:after{clear:both}.markdown-body table{border-spacing:0;border-collapse:collapse}.markdown-body td,.markdown-body th{padding:0}.markdown-body details summary{cursor:pointer}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:0;margin-bottom:0}.markdown-body h1{font-size:32px}.markdown-body h1,.markdown-body h2{font-weight:600}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:20px}.markdown-body h3,.markdown-body h4{font-weight:600}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:14px}.markdown-body h5,.markdown-body h6{font-weight:600}.markdown-body h6{font-size:12px}.markdown-body p{margin-top:0;margin-bottom:10px}.markdown-body blockquote{margin:0}.markdown-body ol,.markdown-body ul{padding-left:0;margin-top:0;margin-bottom:0}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ol ol ol,.markdown-body ol ul ol,.markdown-body ul ol ol,.markdown-body ul ul ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body code,.markdown-body pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px}.markdown-body pre{margin-top:0;margin-bottom:0}.markdown-body input::-webkit-inner-spin-button,.markdown-body input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none;appearance:none}.markdown-body :checked+.radio-label{position:relative;z-index:1;border-color:#0366d6}.markdown-body .border{border:1px solid #e1e4e8!important}.markdown-body .border-0{border:0!important}.markdown-body .border-bottom{border-bottom:1px solid #e1e4e8!important}.markdown-body .rounded-1{border-radius:3px!important}.markdown-body .bg-white{background-color:#fff!important}.markdown-body .bg-gray-light{background-color:#fafbfc!important}.markdown-body .text-gray-light{color:#6a737d!important}.markdown-body .pl-3,.markdown-body .px-3{padding-left:16px!important}.markdown-body .px-3{padding-right:16px!important}.markdown-body .f6{font-size:12px!important}.markdown-body .lh-condensed{line-height:1.25!important}.markdown-body .text-bold{font-weight:600!important}.markdown-body .pl-c{color:#6a737d}.markdown-body .pl-c1,.markdown-body .pl-s .pl-v{color:#005cc5}.markdown-body .pl-e,.markdown-body .pl-en{color:#6f42c1}.markdown-body .pl-s .pl-s1,.markdown-body .pl-smi{color:#24292e}.markdown-body .pl-ent{color:#22863a}.markdown-body .pl-k{color:#d73a49}.markdown-body .pl-pds,.markdown-body .pl-s,.markdown-body .pl-s .pl-pse .pl-s1,.markdown-body .pl-sr,.markdown-body .pl-sr .pl-cce,.markdown-body .pl-sr .pl-sra,.markdown-body .pl-sr .pl-sre{color:#032f62}.markdown-body .pl-smw,.markdown-body .pl-v{color:#e36209}.markdown-body .pl-bu{color:#b31d28}.markdown-body .pl-ii{color:#fafbfc;background-color:#b31d28}.markdown-body .pl-c2{color:#fafbfc;background-color:#d73a49}.markdown-body .pl-c2:before{content:"^M"}.markdown-body .pl-sr .pl-cce{font-weight:700;color:#22863a}.markdown-body .pl-ml{color:#735c0f}.markdown-body .pl-mh,.markdown-body .pl-mh .pl-en,.markdown-body .pl-ms{font-weight:700;color:#005cc5}.markdown-body .pl-mi{font-style:italic;color:#24292e}.markdown-body .pl-mb{font-weight:700;color:#24292e}.markdown-body .pl-md{color:#b31d28;background-color:#ffeef0}.markdown-body .pl-mi1{color:#22863a;background-color:#f0fff4}.markdown-body .pl-mc{color:#e36209;background-color:#ffebda}.markdown-body .pl-mi2{color:#f6f8fa;background-color:#005cc5}.markdown-body .pl-mdr{font-weight:700;color:#6f42c1}.markdown-body .pl-ba{color:#586069}.markdown-body .pl-sg{color:#959da5}.markdown-body .pl-corl{text-decoration:underline;color:#032f62}.markdown-body .mb-0{margin-bottom:0!important}.markdown-body .my-2{margin-bottom:8px!important;margin-top:8px!important}.markdown-body .pl-0{padding-left:0!important}.markdown-body .py-0{padding-top:0!important;padding-bottom:0!important}.markdown-body .pl-1{padding-left:4px!important}.markdown-body .pl-2{padding-left:8px!important}.markdown-body .py-2{padding-top:8px!important;padding-bottom:8px!important}.markdown-body .pl-3{padding-left:16px!important}.markdown-body .pl-4{padding-left:24px!important}.markdown-body .pl-5{padding-left:32px!important}.markdown-body .pl-6{padding-left:40px!important}.markdown-body .pl-7{padding-left:48px!important}.markdown-body .pl-8{padding-left:64px!important}.markdown-body .pl-9{padding-left:80px!important}.markdown-body .pl-10{padding-left:96px!important}.markdown-body .pl-11{padding-left:112px!important}.markdown-body .pl-12{padding-left:128px!important}.markdown-body hr{border-bottom-color:#eee}.markdown-body kbd{display:inline-block;padding:3px 5px;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;line-height:10px;color:#444d56;vertical-align:middle;background-color:#fafbfc;border:1px solid #d1d5da;border-radius:3px;box-shadow:inset 0 -1px 0 #d1d5da}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body blockquote,.markdown-body details,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e1e4e8;border:0}.markdown-body blockquote{padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eaecef}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#6a737d}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li{word-wrap:break-all}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto}.markdown-body table th{font-weight:600}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #dfe2e5}.markdown-body table tr{background-color:#fff;border-top:1px solid #c6cbd1}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body img{max-width:100%;box-sizing:initial;background-color:#fff}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body code{padding:.2em .4em;margin:0;font-size:85%;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px}.markdown-body pre code{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:initial;border:0}.markdown-body .commit-tease-sha{display:inline-block;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:90%;color:#444d56}.markdown-body .full-commit .btn-outline:not(:disabled):hover{color:#005cc5;border-color:#005cc5}.markdown-body .blob-wrapper{overflow-x:auto;overflow-y:hidden}.markdown-body .blob-wrapper-embedded{max-height:240px;overflow-y:auto}.markdown-body .blob-num{width:1%;min-width:50px;padding-right:10px;padding-left:10px;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;line-height:20px;color:rgba(27,31,35,.3);text-align:right;white-space:nowrap;vertical-align:top;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none}.markdown-body .blob-num:hover{color:rgba(27,31,35,.6)}.markdown-body .blob-num:before{content:attr(data-line-number)}.markdown-body .blob-code{position:relative;padding-right:10px;padding-left:10px;line-height:20px;vertical-align:top}.markdown-body .blob-code-inner{overflow:visible;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;color:#24292e;word-wrap:normal;white-space:pre}.markdown-body .pl-token.active,.markdown-body .pl-token:hover{cursor:pointer;background:#ffea7f}.markdown-body .tab-size[data-tab-size="1"]{-moz-tab-size:1;-o-tab-size:1;tab-size:1}.markdown-body .tab-size[data-tab-size="2"]{-moz-tab-size:2;-o-tab-size:2;tab-size:2}.markdown-body .tab-size[data-tab-size="3"]{-moz-tab-size:3;-o-tab-size:3;tab-size:3}.markdown-body .tab-size[data-tab-size="4"]{-moz-tab-size:4;-o-tab-size:4;tab-size:4}.markdown-body .tab-size[data-tab-size="5"]{-moz-tab-size:5;-o-tab-size:5;tab-size:5}.markdown-body .tab-size[data-tab-size="6"]{-moz-tab-size:6;-o-tab-size:6;tab-size:6}.markdown-body .tab-size[data-tab-size="7"]{-moz-tab-size:7;-o-tab-size:7;tab-size:7}.markdown-body .tab-size[data-tab-size="8"]{-moz-tab-size:8;-o-tab-size:8;tab-size:8}.markdown-body .tab-size[data-tab-size="9"]{-moz-tab-size:9;-o-tab-size:9;tab-size:9}.markdown-body .tab-size[data-tab-size="10"]{-moz-tab-size:10;-o-tab-size:10;tab-size:10}.markdown-body .tab-size[data-tab-size="11"]{-moz-tab-size:11;-o-tab-size:11;tab-size:11}.markdown-body .tab-size[data-tab-size="12"]{-moz-tab-size:12;-o-tab-size:12;tab-size:12}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item+.task-list-item{margin-top:3px}.markdown-body .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}</style><meta name="generator" content="Gatsby 2.23.4"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="canonical" href="https://jeffrafter.com/performance-tuning-for-mobile-vr/" data-baseprotocol="https:" data-basehost="jeffrafter.com"/><link rel="icon" href="/favicon-32x32.png?v=bddcaef8d466d0f77d76d3d885709d8f"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=bddcaef8d466d0f77d76d3d885709d8f"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=bddcaef8d466d0f77d76d3d885709d8f"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=bddcaef8d466d0f77d76d3d885709d8f"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=bddcaef8d466d0f77d76d3d885709d8f"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=bddcaef8d466d0f77d76d3d885709d8f"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=bddcaef8d466d0f77d76d3d885709d8f"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=bddcaef8d466d0f77d76d3d885709d8f"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=bddcaef8d466d0f77d76d3d885709d8f"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><title data-react-helmet="true">Exploring - Performance tuning for mobile VR | Jeff Rafter</title><meta data-react-helmet="true" name="description" content="Whatever you learned tuning the performance for mobile or for desktop or console games might not apply to mobile VR."/><meta data-react-helmet="true" property="og:title" content="Exploring - Performance tuning for mobile VR"/><meta data-react-helmet="true" property="og:description" content="Whatever you learned tuning the performance for mobile or for desktop or console games might not apply to mobile VR."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:image" content="https://jeffrafter.com//static/488b7919d31a316e8c221528e8e6da6d/10e03/OpenGLInsights-TileBasedArchitectures.png"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Jeff Rafter"/><meta data-react-helmet="true" name="twitter:title" content="Exploring - Performance tuning for mobile VR"/><meta data-react-helmet="true" name="twitter:description" content="Whatever you learned tuning the performance for mobile or for desktop or console games might not apply to mobile VR."/><meta data-react-helmet="true" name="keywords" content="vr, opengl, android, oculus, quest, unity"/><style data-styled="coseIW ddlDEo bOnSNx gXLbcD aCPwf" data-styled-version="4.4.1">
/* sc-component-id: sc-global-3268680936 */
::selection{background-color:#dad9d9;color:rgba(0,0,0,0.70);}
/* sc-component-id: sc-bdVaJa */
.coseIW ul{list-style-type:none;margin:1rem 0;padding:0;margin-left:-16px;} .coseIW li{display:inline-block;margin:16px;} .coseIW li a{background:none;}
/* sc-component-id: sc-bwzfXH */
.aCPwf{padding-bottom:36px;}
/* sc-component-id: sc-ifAKCX */
.ddlDEo{width:55%;}
/* sc-component-id: sc-gzVnrw */
.bOnSNx{margin-top:40px;margin-bottom:40px;float:right;}
/* sc-component-id: sc-htoDjs */
.gXLbcD{list-style-type:none;} .gXLbcD li::before{content:'' !important;padding-right:0 !important;}</style><link as="script" rel="preload" href="/webpack-runtime-38c8a4ef93b968ef91ae.js"/><link as="script" rel="preload" href="/framework-8dcecaaefd71e2213eb2.js"/><link as="script" rel="preload" href="/styles-fa79fef4936efa84b233.js"/><link as="script" rel="preload" href="/app-3b271d6a60df7cd92087.js"/><link as="script" rel="preload" href="/commons-52923487d36b93dc329d.js"/><link as="script" rel="preload" href="/component---src-templates-post-tsx-30b85df3d8081f386f13.js"/><link as="fetch" rel="preload" href="/page-data/performance-tuning-for-mobile-vr/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><nav class="sc-bdVaJa coseIW navigation"><ul><li><a href="/">&amp;</a></li><li><a href="/tags">Tags</a></li><li><a href="/about">About</a></li></ul></nav><main class="content" role="main"><article><header><h1>Exploring - Performance tuning for mobile VR</h1><p>July 09, 2020</p></header><div class="page-content"><div><section><figure><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 896px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/488b7919d31a316e8c221528e8e6da6d/4c42d/OpenGLInsights-TileBasedArchitectures.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 74.6875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAAC+ElEQVQ4y5WTy28TVxjFvW3X3XWFuu0/wD/QZSVoJSogqGqlSCygRWIBSIC66LKqyqulanYRgSaAEkIbEURCGkIcDHnhkDgexyTEnrEz4/F4np7HjzszRDalXfBJ31zNvddnznfOcQZRURSRrqFov6vj9+CtvTAMkrtKXeVpfpWFlTWePl9lqyIn+5kUKAV7n+p/kOWLGzl6bsyyf2COX8fnUsCUXcrQc17Q3LmMofZhar9gm8+xjCnxflH0H5iNq5SkJ2g1lQv9g+z7+ToHLw3x+U8DXLl9r8Mw8F28NrS031CKGfLZD1HWM+h1AVTvZWMp3vsAdSODUh3FMXz6xh5yeEzi68EsX42s8PvkfAfQcWxUVUPXq7SaBfTGGvVKjsDV8MwK0uoEzUYBQ1+j3baSH8qyzPKLAo/ncsm69Wq7A2hZVnLB8/xEz1jN+VKNmbzE4ss660oKEooDPwgJAx/N9lipNZlcXCWv6NQtrwMYipu+7ydrrKduOxybkTny1xo942XO5WqxMIlx4ZtETGzqfDlW5uDNZ+y/K3GrqHWb8nb5YUSp4bCuWhR2TDZUk3YscleplstS3SZfN5NVaTndsYmSDoKUaZw9umMUBEION8mg7wf8F4ldnJRhlIbVNq4jFz+msPApsvSRcPkClaqBtv0Z5fweSsufoFf24rk76XeERIGYJu5dKRKGnmtjiCgYjXF05RCVci/N2gFcc1SYpVNc+RZ58zDVco/I5wkxfjNl9K+On10ui8joFnajjWt4In821VcKWkPEqdaitrnDVnFbnAUiOsJAX2jqmIKNDa5F4DnpyMmowtW2bTE6u8DRa/c5NTxD78AEfX8/FCHW+WFkmuOD/3Dsz0nODD/i5UaJrIjT+Ueb/DgtcXaqxNSW3nF5d/472SW+6Z/gxO0svUNZhh4vYzVUTg/P8t3dRb6/M8/JkRxSocB0SebMXI1zUxKnZ+UkRu+4LBJLJPSMBP3QsYj8NCpuyxBjy/GfPTn/v4ohXgOxpEiJ6HxO8gAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="OpenGL Insights, Performance Tuning for Tile-Based Architectures"
        title="OpenGL Insights, Performance Tuning for Tile-Based Architectures"
        src="/static/488b7919d31a316e8c221528e8e6da6d/4c42d/OpenGLInsights-TileBasedArchitectures.png"
        srcset="/static/488b7919d31a316e8c221528e8e6da6d/72799/OpenGLInsights-TileBasedArchitectures.png 320w,
/static/488b7919d31a316e8c221528e8e6da6d/6af66/OpenGLInsights-TileBasedArchitectures.png 640w,
/static/488b7919d31a316e8c221528e8e6da6d/4c42d/OpenGLInsights-TileBasedArchitectures.png 896w"
        sizes="(max-width: 896px) 100vw, 896px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></figure><figcaption>
Data flow in (a) tiled-based and (b) immediate-mode GPUs for multisampled rendering. Yellow boxes are computational units, blue boxes are memory, and thick borders indicate multisampled buffers. The immediate-mode GPU moves multisampled pixel data on and off the chip, consuming a lot of bandwidth. From [OpenGL Insights, Performance Tuning for Tile-Based Architectures](https://www.seas.upenn.edu/~pcozzi/OpenGLInsights/OpenGLInsights-TileBasedArchitectures.pdf) by Bruce Merry
</figcaption><p><strong>🗺 Exploring - Work in progress</strong></p><p>Getting every ounce of performance out of your game is a dark art. Its study leads to game specific and platform specific shader optimizations, baked lighting, mesh decimation, and horrific tales of endless overdraw. To make it even more difficult, the answers that you’ve learned along the way for every other platform and every other game engine (and their successive rendering pipelines) are probably not applicable.</p><p>For me, I’m just beginning this journey; struggling like many others to make a fun game in my garage using Unity - adding store-bought assets and clicking checkboxes to turn on beautiful effects in my scene. Luckily there are some tricks and many, many good references I’ve stumbled upon (indexed at the end of this post).</p><p>This post is mostly about working to make your game render at the required 72 FPS (frames-per-second) with all of the visual effects and tricks - especially when you are GPU-bound. This post does not cover complex animations, physics simulations and will only briefly discuss shadows.</p></section>
<section><h2 id="why-is-this-difficult" style="position:relative;"><a href="#why-is-this-difficult" aria-label="why is this difficult permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Why is this difficult?</h2><p>Just a quick note: you might be wondering why this is hard? Or why this is different from other platforms? Oculus Quest is an all-in-one device - within the headset is everything you need (and everything you have) to run your game. It is an Android-based device with a Snapdragon 835 chipset and built in Adreno 540 GPU:</p><blockquote>
<p>Oculus Quest has two 1600x1440 OLED screens that run at 72 frames per second. By default, apps render to 1216x1344 eye textures… Internally Oculus Quest runs on a Qualcomm Snapdragon 835 chipset… The Snapdragon 835 has 8 cores, 4 of which are large, fast “gold” cores that run up to 2.3 Ghz. Of the four gold cores, applications have full access to 3 of them, while we reserve the fourth for TimeWarp and other system services. The remaining low-power “silver” cores are reserved for tracking and other system software… The Snapdragon 835 chipset includes an Adreno 540 GPU, which runs at 710 Mhz. This is a “binning” or “tiled” GPU, which means that it cuts the scene up into a grid of tiles and renders each in sequence. Oculus Quest comes with 4 GB of memory, 2.75 GB of which is available for applications. - From <a href="https://developer.oculus.com/blog/down-the-rabbit-hole-w-oculus-quest-the-hardware-software/?locale=en_US">https://developer.oculus.com/blog/down-the-rabbit-hole-w-oculus-quest-the-hardware-software/?locale=en_US</a></p>
</blockquote><p>The key here is that the GPU is a tile-based renderer. Because the chipset is smaller (its a mobile device) there is a limited amount of silicon and power. Because of this the GPU makes tradeoffs between how much bandwidth is used internally to move data back and forth between the more resource-hungry system memory. In immediate mode GPUs, like your gaming PC, these trade-offs fall in the other direction (it isn’t a small, mobile device and is plugged into the wall) so a different set of optimizations are typically used. In fact, some optimizations you might normally make for PC/console games will actually hurt the performance of your mobile game. Also, there are two high-resolution screens. So you need to do everything twice - which brings more challenges and - in some cases - more optimizations.</p><p>The difference between tile based and immediate mode GPUs is explained in great detail in <a href="https://www.seas.upenn.edu/~pcozzi/OpenGLInsights/OpenGLInsights-TileBasedArchitectures.pdf">OpenGL Insights, Performance Tuning for Tile-Based Architectures</a> by Bruce Merry.</p><p>Luckily there are some tricks which work regardless of the platform. We’ll try to use those too.</p></section>
<section><h2 id="setting-up-a-basic-project" style="position:relative;"><a href="#setting-up-a-basic-project" aria-label="setting up a basic project permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setting up a basic project</h2><p>Make sure you are using a version of Unity with Android Support and OpenJDK (in the Unity Hub):</p><p><img src="https://rpl.cat/uploads/Jq2ZG-YaXY9ysAtwNPSYelwe-n4WtumRCJxaxE1yWDk/public.png"></p><p>Then create a new project with the Universal Render Pipeline selected:</p><p><img src="https://rpl.cat/uploads/-eY6kQZYsQdXrm1EnJZGUUBjAMieEHBqynNc8Ejw5ws/public.png"></p><p>The project should open and have a default scene in it. For our purposes, we don’t care about this scene and want to start with a blank canvas.</p><p><img src="https://rpl.cat/uploads/VwV_l-vxDq3cP_mPOPgYXo39rxwy6MuBWzXcW0_3oFY/public.png"></p><p>Delete:</p><ul>
<li><code class="language-text">Assets/Scenes/SampleScene</code></li>
<li><code class="language-text">Assets/ExampleAssets</code></li>
<li><code class="language-text">Assets/TutorialInfo</code></li>
<li><code class="language-text">Assets/Settings/SampleSceneProfile</code></li>
</ul><p>Before we can build our game for the Oculus Quest, we’ll need to add some packages. Open the Package Manager. For current versions of Unity, you’ll need to show the preview packages. Currently you do this using the drop-down:</p><p><img src="https://rpl.cat/uploads/kD-eXpBhmdmQVcIq-eWfjthiTmsJgB2FIeE69J_838o/public.png"></p><p>In <code class="language-text">2020.*</code> versions enabling preview packages has moved.</p><p>Select the <code class="language-text">XR Interaction Toolkit</code><label for="sd-wait-what-is-xr-xr" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sd-wait-what-is-xr-xr" class="margin-toggle" /><span class="sidenote">Wait - what is "XR". XR is short for "cross-reality" - and is the abbreviation for games and projects that support both VR (virtual-reality) and AR (augmented reality).</span> package and click install:</p><p><img src="https://rpl.cat/uploads/Rq6e9oe_OXAXb0pHSfWk4koBYxkASoH0XZMeZhCYsD4/public.png"></p><p>I also install the <code class="language-text">Android Logcat</code> plugin:</p><p><img src="https://rpl.cat/uploads/Mcf4v51CHYWUYkXPc5fJJQL86TaBytB9VhMixHdSDYE/public.png"></p><p>We’re ready to create our scene. In the <code class="language-text">Scenes</code> folder in <code class="language-text">Assets</code>, create a new scene called Game:</p><p><img src="https://rpl.cat/uploads/gMzV3c1lh2U1DOj0zmlOahNUkB3ggDM6bA8qsOz7uKQ/public.png"></p><p>Double click to open it.</p><h3 id="setting-up-xr" style="position:relative;"><a href="#setting-up-xr" aria-label="setting up xr permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setting up XR</h3><p>To get started, we’ll want to setup our scene so that our headset is tracked and is used as the primary camera. In the Hierarchy tab create a new empty object called <code class="language-text">XR</code>:</p><p><img src="https://rpl.cat/uploads/0sOz6ISY7-AvBOHUGHtgs6-AjV2VQ7OUpAZ78xtMEJQ/public.png"></p><p>Select the object, set the <code class="language-text">Y</code> position to <code class="language-text">1</code> and add an <code class="language-text">XR Rig</code> component.</p><p><img src="https://rpl.cat/uploads/8LEjPPxf8iZWNjEMDfWtjxoEFNa3xLGQOeMuHTTNb-E/public.png"></p><p>Within the <code class="language-text">XR</code> object create a new empty object:</p><p><img src="https://rpl.cat/uploads/tPbVlp2OxO11JQl1MCrPdjsrMV25nhQZQj2GWCrH9TU/public.png"></p><p>Name it <code class="language-text">Camera Offset</code>. Within the <code class="language-text">Camera Offset</code> add a new Camera object:</p><p><img src="https://rpl.cat/uploads/QFKenapfdKHxGWH-66ee3R-fU2qmfqRlWGbC0XZ0J7w/public.png"></p><p>Add a <code class="language-text">Tracked Pose Driver</code> component to the Camera object:</p><p><img src="https://rpl.cat/uploads/m_yET7iwisOh3JzG0kkL4ZG2i2bTBZuombmCGTzZklA/public.png"></p><p>That’s all we need for now (this is just to get the scene running and visible; not pretty); we just need to wire things together. Select the <code class="language-text">XR</code> object again. Then drag the child Camera object to <code class="language-text">Camera Game Object</code> property on the <code class="language-text">XR Rig</code> component. Drag the <code class="language-text">Camera Offset</code> object to the <code class="language-text">Camera Floor Offset Object</code> property.</p><p><img src="https://rpl.cat/uploads/QWSvFMQyTd-swZd3VP5abHwmBZ9FIy2xX9SEOKaHHxM/public.png"></p><p>At this point we can remove the <code class="language-text">Main Camera</code> game object, we’ll be using the <code class="language-text">XR</code> camera instead.</p><h3 id="creating-a-basic-world" style="position:relative;"><a href="#creating-a-basic-world" aria-label="creating a basic world permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creating a basic world</h3><p>We’ve created enough for our player to put on their headset and be in the world - but we haven’t actually created anything for them to see. Let’s add a basic platform for them to stand on and a table.</p><p>Create a new <code class="language-text">3D Object</code>, <code class="language-text">Cube</code> and name it <code class="language-text">Floor</code>. Set the scale to <code class="language-text">100, 1, 100</code>:</p><p><img src="https://rpl.cat/uploads/J2RC-yjB9SEH94I7kRDfATIdqzxkwNcSIxV71do8TXo/public.png"></p><p>Create another new <code class="language-text">3D Object</code>, <code class="language-text">Cube</code> and name it <code class="language-text">Table</code>. Set the <code class="language-text">Z</code> position to <code class="language-text">10</code> (so it is 10 meters in front of the camera) and set the <code class="language-text">X</code> scale to <code class="language-text">10</code> so it appears like a long desk and set the <code class="language-text">Y</code> position to <code class="language-text">1</code> so it is sitting on the <code class="language-text">Floor</code>.</p><p><img src="https://rpl.cat/uploads/3HIRpaddJfFgLKmcoyIBksJdLLtugDtGrmcXL3uJD3o/public.png"></p><p>We’ll need some materials for the objects (so we can see them). Select the <code class="language-text">Materials</code> folder in your <code class="language-text">Assets</code> and create a new material and name it <code class="language-text">Black</code>. Set the <code class="language-text">Base Map</code> color to black:</p><p><img src="https://rpl.cat/uploads/HOa30phzd2co9jBIFvYKDYo5J7pOHQHVKfDwzy3mefU/public.png"></p><p>Make another material called <code class="language-text">Red</code> and set the <code class="language-text">Base Map</code> color to red:</p><p><img src="https://rpl.cat/uploads/gLyfond59wMb-liI2zfsGyxJ6-sR3F_NVYsYAOWuTKs/public.png"></p><p>Drag the <code class="language-text">Black</code> material into your game view and drop it onto the <code class="language-text">Floor</code> object. Drag the <code class="language-text">Red</code> material into the game view and drop it onto the <code class="language-text">Table</code> object.</p><p><img src="https://rpl.cat/uploads/lMte9ks4OoYzchQimAAeOnr-nfJAtUUGkje1SOKaGRI/public.png"></p><h3 id="building-and-deploying-the-application-to-your-oculus-quest" style="position:relative;"><a href="#building-and-deploying-the-application-to-your-oculus-quest" aria-label="building and deploying the application to your oculus quest permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Building and deploying the application to your Oculus Quest</h3><p>If you are working on Windows and have an Oculus Link then you might be tempted to click the ▶️ button in Unity and see how it all works. That’s great; but the performance you see using this method won’t correctly reflect the performance on the Quest (the Oculus Link leverages the GPU on your computer). Instead we’ll want to build the project for Android and send it to the Oculus Quest.</p><p>To do this you’ll need to <a href="https://developer.oculus.com/documentation/native/android/mobile-device-setup/">setup your device for developer mode</a>. Once your Quest is in developer mode and plugged in, you can configure your project.</p><p>Open <code class="language-text">Build Settings...</code> and click <code class="language-text">Add Open Scenes</code>, then click on the <code class="language-text">Android</code> platform option and change the default texture compression to <code class="language-text">ATSC</code><label for="sd-i-ve-skipped-most-of" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sd-i-ve-skipped-most-of" class="margin-toggle" /><span class="sidenote">I've skipped most of the platform specific changes you can make but changed the texture compression. Why? Changing this later can be very slow. Because of that I tend to do it as early as possible in the process.</span>. Then click <code class="language-text">Switch Platform</code>:</p><p><img src="https://rpl.cat/uploads/-tHtffnHUe-IUqJsb60DubbA1YioJcXwNWVlq_7hgCA/public.png"></p><p>Next, click on <code class="language-text">Player Settings</code>. Choose the <code class="language-text">XR Plugin Management</code> category on the left then click <code class="language-text">Install XR Plugin Management</code>:</p><p><img src="https://rpl.cat/uploads/bBqq9gdW9SW-NKNZPmBMcvku1xSKaCYIrzinKicy9Ss/public.png"></p><p>Once installed, check the <code class="language-text">Oculus</code> box (this will install the <a href="https://developer.oculus.com/downloads/package/oculus-openxr-mobile-sdk/">Oculus OpenXR Mobile SDK</a>):</p><p><img src="https://rpl.cat/uploads/S5oiLrxkVTgYZkS2Bb5QrTDGHhv6-B7W111wPYVMJds/public.png"></p><p>We won’t change any other settings for now - though we’ll want to change some settings later to increase the performance. Click <code class="language-text">Build and Run</code>, choose a name when saving the game and get ready:</p><p><img src="https://rpl.cat/uploads/OJ9Rxd8oIjwUvEifYWRCELveNUdty117EPRwBKfC8Mc/public.png"></p><p>Oculus has additional information about setting up your application in the documentation under <a href="https://developer.oculus.com/documentation/unity/unity-conf-settings/">Configure Unity Settings</a>. It details specific quality configurations and rendering preferences which we’ll explore below.</p></section>
<section><h2 id="seeing-and-measuring-our-progress" style="position:relative;"><a href="#seeing-and-measuring-our-progress" aria-label="seeing and measuring our progress permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Seeing and measuring our progress</h2><p>When the game is deployed and starts we should immediately begin seeing logs in Unity because we’ve installed the Android Logcat plugin. The logs will have a lot of useful information. For starters it is useful to look at the <code class="language-text">VrApi</code> logs for <code class="language-text">FPS</code> (frames per second). For example:</p><div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">2020/07/11 11:08:28.274 15077 15283 Info VrApi FPS=72,Prd=45ms,Tear=0,Early=72,Stale=0,VSnc=1,Lat=1,Fov=0,CPU4/GPU=2/2,1651/414MHz,OC=FF,TA=0/0/0,SP=N/N/N,Mem=1804MHz,Free=954MB,PSM=0,PLS=0,Temp=34.0C/0.0C,TW=2.98ms,App=2.85ms,GD=0.00ms,CPU&amp;GPU=6.76ms,LCnt=1,GPU%=0.43,CPU%=0.16(W0.19),DSF=1.00</code></pre></div><p>What do all of these values mean? They are all defined in the <a href="https://developer.oculus.com/documentation/tools/tools-logcat-stats/?locale=en_US">VrApi Stats Definition Guide</a>. At a minimum you should focus on the <code class="language-text">FPS</code>. The Oculus Quest refresh rate is <code class="language-text">72hz</code> and therefore the target <code class="language-text">FPS</code> for games is <code class="language-text">72</code>. As players move and the complexity of the scene changes this may fall below <code class="language-text">72</code> occasionally, but it should normally not. Unfortunately the <code class="language-text">FPS</code> is really a result of all of the other numbers and is more of a “final-answer” than a starting point. In fact, only watching the <code class="language-text">FPS</code> can be misleading as it should never go above <code class="language-text">72</code>.</p><p>Instead you should focus on the <code class="language-text">App</code> (how much time only the GPU took to render a frame) and <code class="language-text">CPU&amp;GPU</code> times. In order to render <code class="language-text">72fps</code> the total rendering time per frame must be <code class="language-text">13.88ms</code> or less. In our example above our <code class="language-text">FPS</code> is a solid <code class="language-text">72</code> and our <code class="language-text">App</code> is <code class="language-text">2.85ms</code>. This means we have an additional <code class="language-text">11.03ms</code> per frame to make our scene prettier without impacting our <code class="language-text">FPS</code> (again, this is not exact; it is possible our application is CPU bound instead). According to the documentation for <code class="language-text">App</code>:</p><blockquote>
<p>This value is one of the most useful numbers to monitor when optimizing an application. If the length of time shown is longer than a single frame’s length (13.88ms for 72 frames per second), the app is GPU bound. If the length is less than a frame’s length, the app is probably CPU bound.
In addition to using this metric to determine if an app is GPU or CPU bound, it’s also useful to monitor it as you change shaders, add textures, change meshes, and make other changes. This can allow insight into how much headroom remains on the GPU, and if debug logic is used to turn on and off specific objects, you can tell how performance-intensive those objects are.</p>
</blockquote><p>There are a number of other useful pieces of information in the logs. For example, <code class="language-text">CPU4/GPU=2/2</code> indicates the clock levels of the CPU and GPU. These can go up to <code class="language-text">4/4</code> to give even more power (for faster rendering) at the cost of battery life and heat. It is best if these remain <code class="language-text">2/2</code> but it indicates that there is still some additional capacity if we start to miss our <code class="language-text">FPS</code> budget. We can also see the GPU and CPU usage percent. Once those near <code class="language-text">1.0</code> our application will become GPU or CPU-bound and we will start to miss our targets.</p><h3 id="using-code-classlanguage-textadbcode-and-code-classlanguage-textscrcpycode" style="position:relative;"><a href="#using-code-classlanguage-textadbcode-and-code-classlanguage-textscrcpycode" aria-label="using code classlanguage textadbcode and code classlanguage textscrcpycode permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using <code class="language-text">adb</code> and <code class="language-text">scrcpy</code></h3><p>The Android Debugging Bridge (or <code class="language-text">adb</code>) gives you access to a number of additional tools including a command line interface to the Quest. It isn’t required, but I tend to use it.</p><p>If you are working on Windows there are some instructions available; read <a href="https://developer.oculus.com/documentation/unity/unity-enable-device/">Enable Device for Development and Testing</a>. On a Mac, in a Terminal, run:</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">brew cask <span class="token function">install</span> android-platform-tools
brew <span class="token function">install</span> scrcpy</code></pre></div><p>Once that is installed, attach your Oculus via USB-C and run:</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">scrcpy -c <span class="token number">1440</span>:1550:0:0</code></pre></div><p><img src="https://rpl.cat/uploads/imeN6aiurwLwWsdpM0_b07l2bhBuZ8PUNaOwkDlnhSs/public.png"></p><p>This should attach a view for a single eye. Be careful! Sometimes what you see in the <code class="language-text">scrcpy</code> window doesn’t always perfectly match what the player sees on the Oculus Quest. If you want to see both eyes you can just use <code class="language-text">scrcpy</code> <label for="sd-less-than-code" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sd-less-than-code" class="margin-toggle" /><span class="sidenote"><code>scrcpy</code> or Screen-Copy is part of Genymobile and can be found <a href="https://github.com/Genymobile/scrcpy#mac-os">https://github.com/Genymobile/scrcpy#mac-os</a>. There are options for other platforms as well. See also: <a href="https://note.mu/masaki_ponpoko/n/nc759f6499c79">https://note.mu/masaki_ponpoko/n/nc759f6499c79</a></span>. If you get an error about the connection you can usually run:</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">adb disconnect</code></pre></div><p>If that doesn’t work you can do the more extreme:</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">adb kill-server</code></pre></div><p>And then run <code class="language-text">scrcpy</code> again.</p><h3 id="checking-the-logs" style="position:relative;"><a href="#checking-the-logs" aria-label="checking the logs permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Checking the logs</h3><p>We’ve been using the Android Logcat plugin in Unity to see the logs, but you can also view the logs from terminal. The logs are verbose so it is sometimes helpful to start by clearing them:</p><div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">adb logcat -c</code></pre></div><p>Then check them:</p><div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">adb logcat -d</code></pre></div><p>Using <code class="language-text">System.Debug</code> statements in your application will output information to the logs making it a useful way to see what is happening in your program.</p><h3 id="connecting-via-wi-fi" style="position:relative;"><a href="#connecting-via-wi-fi" aria-label="connecting via wi fi permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Connecting via Wi-fi</h3><p>So far all of our interaction with the Oculus Quest has required it to be plugged in via USB-C cable. Unsurprisingly, you can also connect via Wi-fi. First you’ll want to make sure that the device is connected via USB:</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">adb devices</code></pre></div><p>Once you’ve got the device connected you can check it’s local IP address:</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">adb shell <span class="token function">ip</span> route</code></pre></div><p>Now setup <code class="language-text">tcpip</code> for the connected device and tell it to listen on port <code class="language-text">5555</code>:</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">adb tcpip <span class="token number">5555</span></code></pre></div><p>Once you’ve done this the device is still connected to USB and your computer is communicating via
USB but it is also listening for <code class="language-text">tcpip</code> connections via Wi-Fi. Connect to it via Wi-Fi:</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">adb connect <span class="token operator">&lt;</span>ipaddress<span class="token operator">></span>:5555</code></pre></div><p>At this point you can unplug the USB cable and you should still be able to work with the Quest via
<code class="language-text">adb</code> over Wi-Fi. For example:</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">adb logcat -d</code></pre></div><p>If you want to explicitly connect to a particular Quest you can specify the server with <code class="language-text">-s</code>:</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">adb -s <span class="token operator">&lt;</span>ipaddress<span class="token operator">></span>:5555 logcat -d</code></pre></div><p>To go back to using USB, plug in the cable again and connect:</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">adb connect usb</code></pre></div><p>In some cases the version of <code class="language-text">adb</code> you install is different than the version that is used in Unity. This can lead to unexplainable errors either in Unity or in the Terminal. In most cases it simply causes one of the two tools to repeatedly lose its connection to the quest. To work around this, copy the <code class="language-text">adb</code> binary from the Unity installation to <code class="language-text">/usr/local/bin</code>.</p><p>You can find the path in the Unity Preferences window (in the <code class="language-text">platform-tools</code> folder inside of the Android SDK path):</p><p><img src="https://rpl.cat/uploads/sY4Uube3Us48UADqz7e5PghgO1Bb4Vdl3dOMPiunhgc/public.png"></p><h3 id="ovr-metrics-tool" style="position:relative;"><a href="#ovr-metrics-tool" aria-label="ovr metrics tool permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>OVR Metrics Tool</h3><p>Working with the logs can be helpful, but sometimes you want to play your game and keep an eye on the <code class="language-text">FPS</code> at the same time. To do this you can use the <a href="https://developer.oculus.com/documentation/tools/tools-ovrmetricstool">OVR Metrics Tool</a>. To install it, (agree to the Terms of Service and Privacy Policy) and <a href="https://developer.oculus.com/downloads/package/ovr-metrics-tool/">download</a> it.</p><p>To install it, use <code class="language-text">adb</code>:</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">adb <span class="token function">install</span> ~/Downloads/OVRMetricsTool_v1.5/OVRMetricsTool_v1.5.apk</code></pre></div><p>Once it is installed you can configure it directly on the Oculus Quest by going to your apps, choosing <code class="language-text">Unknown Sources</code> and running the <code class="language-text">OVR Metrics Tool</code>. You can also start the application using <code class="language-text">adb</code>:</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">adb shell am start omms://app</code></pre></div><p>I normally choose the advanced view and enable the persistent overlay. Once configured, you can also enable the metrics as an overlay using <code class="language-text">adb</code>:</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">adb shell setprop debug.oculus.omms.enableOverlay <span class="token boolean">true</span></code></pre></div><p>Restart your application:</p><p><img src="https://rpl.cat/uploads/OatsDGEX9UxmreF2z564eTYUqaWT4Kh91jiSlM8N3GM/public.png"></p><p>Sometimes getting the overlay to show up takes a few tries. If you find yourself struggling to show the overlay try turning the Quest off and on (even without a full restart) or try killing the <code class="language-text">omms://app</code> via <code class="language-text">adb</code>, restarting it and relaunching your application from Unity’s <code class="language-text">Build and Run</code> menu.</p><p>The Oculus blog goes into much greater detail in <a href="https://developer.oculus.com/blog/ovr-metrics-tool-vrapi-what-do-these-metrics-mean/?locale=en_US">OVR Metrics Tool + VrApi: What Do These Metrics Mean?</a>.</p><h3 id="gpu-profiling-with-code-classlanguage-textovrgpuprofilercode" style="position:relative;"><a href="#gpu-profiling-with-code-classlanguage-textovrgpuprofilercode" aria-label="gpu profiling with code classlanguage textovrgpuprofilercode permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GPU Profiling with <code class="language-text">ovrgpuprofiler</code></h3><p>Using <code class="language-text">logcat</code> and the OVR Metrics Tool will help you understand where to focus you attention. But how should you proceed if your application is running slowly and is GPU-bound? You might need to remove complex post-processing effects, reduce the number of triangles in your scene, adjust your shaders, or find areas of excessive overdraw. How do you know? You need to profile what is happening on the GPU.</p><p>To do this you can use <code class="language-text">ovrgpuprofiler</code>. This is explained in the documentation in <a href="https://developer.oculus.com/documentation/tools/tools-ovrgpuprofiler">GPU Profiling with ovrgpuprofiler</a>. Run:</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">adb shell ovrgpuprofiler -m -v</code></pre></div><p>Using this tool you can run traces or request specific statistics. Additionally, if you enable the <code class="language-text">ovrgpuprofiler</code> you’ll have access to more statistics in the OVR Metrics Tool (not in the Basic or Advanced view). For more information, see <a href="https://developer.oculus.com/documentation/tools/tools-ovrstats/">OVR Metrics Tool Stats Definition Guide</a>.</p><p>To enable it, run:</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">adb shell ovrgpuprofiler -e</code></pre></div><p>Then restart your program. To display it again, run:</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">adb shell ovrgpuprofiler -d</code></pre></div><blockquote>
<p>Note: running the profiler will affect performance, make sure to disable it when you are done tuning your performance</p>
</blockquote><h3 id="gpu-systrace-for-render-stage-tracing" style="position:relative;"><a href="#gpu-systrace-for-render-stage-tracing" aria-label="gpu systrace for render stage tracing permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GPU Systrace for Render Stage Tracing</h3><p>Though you can use <code class="language-text">ovrgpuprofiler</code> to see real-time metrics and record traces, it is incredibly helpful to visualize those traces. To do this you can use <a href="https://developer.oculus.com/documentation/tools/tools-gpusystrace/">GPU Systrace for Render Stage Tracing</a>. Download the replacement <a href="https://developer.oculus.com/downloads/package/gpu-systrace/"><code class="language-text">systrace_trace_viewer.html</code></a> and install it.</p><p>In order to capture a systrace your application will need to be built with the <code class="language-text">INTERNET</code> permission in your <code class="language-text">AndroidManifest.xml</code>:</p><div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>android.permission.INTERNET<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre></div><p>By default the manifest is auto-generated. To activate the <code class="language-text">INTERNET</code> permission we can override the auto-generated file, or just change the corresponding setting. Open the Player Settings and change Internet Access to <code class="language-text">Required</code>:</p><p><img src="https://rpl.cat/uploads/-39_b9TcpVfgDWLzUv__n1jENcMjNh-3JzJIi0PUykQ/public.png"></p><p>If your build is not a <code class="language-text">Development Build</code>, your <code class="language-text">systrace</code> will be completely blank. Check the <code class="language-text">Development Build</code><label for="sd-note-you-cannot" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sd-note-you-cannot" class="margin-toggle" /><span class="sidenote">Note: you cannot publish a development build to Oculus. You'll need to uncheck this box when preparing your final submission.</span> box in the <code class="language-text">Build Settings</code>:</p><p><img src="https://rpl.cat/uploads/vMPLgczsXu_eNLrRw3M-226J4bZX4LbeewzbhOV5Kc4/public.png"></p><p>From the command line, enable GPU tracing:</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">adb shell ovrgpuprofiler -e</code></pre></div><p>Rebuild your app and run it. Then:</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">adb shell pm list packages</code></pre></div><p>Find your package and then begin tracing:</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">python2 systrace.py --app<span class="token operator">=</span><span class="token string">"package:com.DefaultCompany.VRPerformance"</span> app renderstage</code></pre></div><p>Let this run just for a couple of seconds, then press <strong>Enter</strong>. Open the resulting file:</p><p><img src="https://rpl.cat/uploads/wAsfuNCDDnwCFCAyfYHjR4tqvycsufCEhw54eyJ-FDc/public.png"></p><p>From here you can zoom in on individual frames and see where the delay is happening.</p><h3 id="unity-profiler" style="position:relative;"><a href="#unity-profiler" aria-label="unity profiler permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Unity Profiler</h3><p>One of the best tools you can use is the <a href="https://docs.unity3d.com/Manual/ProfilerWindow.html">Unity Profiler</a>. This tool allows you to dig into individual frames and how they are processed.</p><p><img src="https://rpl.cat/uploads/UF0PJzvrKlxCmomKGHuonGv5z90mPmtsgXXtV9NDYg0/public.png"></p><p>To use this, open the <code class="language-text">Profiler</code> item in the <code class="language-text">Window</code>, <code class="language-text">Analysis</code> menu. By default this will not show the GPU rendering as it can be performance intensive. To prepare your build make sure you have enabled:</p><ul>
<li><code class="language-text">Development Build</code></li>
<li><code class="language-text">Autoconnect Profiler</code></li>
<li><code class="language-text">Deep profiling support</code></li>
</ul><p><img src="https://rpl.cat/uploads/K5LCsxJkJaFdT9_IL1GsIgJLh6pvAAGXvP7udjvqNsM/public.png"></p><p>Also, it can be helpful to open the Player Settings and check <code class="language-text">Enable Internal Profiler* (Deprecated)</code>.</p><p>Now when you <code class="language-text">Build and Run</code> your application the profiler should start right away. If it doesn’t auto-connect, verify you are connected to the correct device:</p><p><img src="https://rpl.cat/uploads/dNfeGCPxf3Tth9NXOeebl0pG2LEUOHCasIzXMB6unyQ/public.png"></p><p>The Unity documentation has more detailed information on the various profiler panes. When debugging graphic performance make sure to look at:</p><ul>
<li><a href="https://docs.unity3d.com/Manual/ProfilerGPU.html">GPU Usage Profiler module</a></li>
<li><a href="https://docs.unity3d.com/Manual/ProfilerRendering.html">Rendering Profiler</a></li>
</ul></section>
<section><h2 id="multi-sample-anti-aliasing" style="position:relative;"><a href="#multi-sample-anti-aliasing" aria-label="multi sample anti aliasing permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Multi-sample anti-aliasing</h2><p>The first thing you should do for your Oculus Quest game is turn on Multi-sample anti-aliasing (MSAA) to <code class="language-text">4X</code>. This may sound surprising, but MSAA at <code class="language-text">4X</code> is so common that it is built-in on many mobile platforms. Because of this, it is often believed that you can add this effect for “free”. In fact, choosing <code class="language-text">4X</code> is often faster than <code class="language-text">2X</code> and almost always faster than the temptingly-named “Fast Approximate Anti-aliasing” (FXAA).</p><p>There are a few ways to make this change. If you’ve created your project using the Universal Rendering Pipeline template (as we did above) you’ll want to change the Universal Render Pipeline settings. Before you do that, ensure that the <code class="language-text">Camera</code> object in our <code class="language-text">XR</code> is deferring to those settings:</p><p><img src="https://rpl.cat/uploads/hg89af5ujFdNIZ9q0tVuCTlGnUjWnKWJBIeInSeU8bc/public.png"></p><p>Notice that <code class="language-text">Anti-aliasing</code> is set to <code class="language-text">None</code> and that the <code class="language-text">MSAA</code> setting (under Output) is set to <code class="language-text">Use Pipeline Settings</code>.</p><p>With this configured you can change your <code class="language-text">UniversalRP</code> asset in the <code class="language-text">Settings</code> folder under <code class="language-text">Assets</code>. But wait, there are three:</p><ul>
<li><code class="language-text">UniversalRP-HighQuality</code></li>
<li><code class="language-text">UniversalRP-LowQuality</code></li>
<li><code class="language-text">UniversalRP-MediumQuality</code></li>
</ul><p>How do you know which one will be used? The answer is: it depends. Within then <code class="language-text">Project Settings</code> is a <code class="language-text">Quality</code> pane. At the top of this pane is a grid of checkboxes. Notice that the default quality (green checkbox) for Android is “Medium”. This means that when your application is run on the Oculus Quest it will use the settings from the <code class="language-text">UniversalRP-MediumQuality</code> asset. However, if you click the ▶️ button in Unity, the game will run on your computer and will use the settings from the <code class="language-text">UniversalRP-HighQuality</code> asset. This can be horribly confusing, but is actually a nice feature that allows you to adjust the quality of your game based on the platform.</p><p><img src="https://rpl.cat/uploads/uGAsibf-h9naLWuISqF3gIvo2vnOr9rVoHyISeXzxnA/public.png"></p><p>Let’s open the <code class="language-text">UniversalRP-MediumQuality</code> asset and change <code class="language-text">MSAA</code> to <code class="language-text">4X</code> and then build our application and run it. In our simple scene this was the impact:</p><ul>
<li><code class="language-text">MSAA</code> at <code class="language-text">2X</code> adds about 0.6ms to the <code class="language-text">App</code> time</li>
<li><code class="language-text">MSAA</code> at <code class="language-text">4X</code> adds about 1.2ms to the <code class="language-text">App</code> time</li>
<li><code class="language-text">MSAA</code> at <code class="language-text">8X</code> adds about 1.3ms to the <code class="language-text">App</code> time</li>
<li><code class="language-text">FXAA</code> (with Post Processing) adds about 4.8ms to the <code class="language-text">App</code> time</li>
</ul><p>Again, because FXAA is added as a post-processing effect it performs poorly on the tile-based GPU. Additionally, the color quality is lower compared to <code class="language-text">MSAA</code> anti-aliasing. I suspect as the scene increases in complexity the difference between <code class="language-text">4X</code> and <code class="language-text">8X</code> time will increase. It is worth testing in your own application.</p></section>
<section><h2 id="lighting-effects" style="position:relative;"><a href="#lighting-effects" aria-label="lighting effects permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Lighting effects</h2></section>
<section><h2 id="baking-lights" style="position:relative;"><a href="#baking-lights" aria-label="baking lights permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Baking lights</h2></section>
<section><h2 id="post-processing" style="position:relative;"><a href="#post-processing" aria-label="post processing permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Post-processing</h2></section>
<section><h2 id="occlusion-culling" style="position:relative;"><a href="#occlusion-culling" aria-label="occlusion culling permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Occlusion culling</h2><ul>
<li>Use mesh-based occlusion culling (see <a href="https://docs.unity3d.com/Manual/OcclusionCulling.html">Occlusion Culling</a> in the Unity Manual).<label for="sd-less-than-a-href" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sd-less-than-a-href" class="margin-toggle" /><span class="sidenote"><a href="https://developer.oculus.com/documentation/unity/unity-best-practices-intro/">https://developer.oculus.com/documentation/unity/unity-best-practices-intro/</a></span></li>
</ul></section>
<section><h2 id="lod" style="position:relative;"><a href="#lod" aria-label="lod permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>LOD</h2></section>
<section><h2 id="baking-colliders" style="position:relative;"><a href="#baking-colliders" aria-label="baking colliders permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Baking colliders</h2></section>
<section><h2 id="textures" style="position:relative;"><a href="#textures" aria-label="textures permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Textures</h2><ul>
<li>Use trilinear or anisotropic filtering on textures. See <a href="https://docs.unity3d.com/Manual/class-TextureImporter.html">Textures</a> in the Unity Manual for more information.<label for="sd-less-than-a-href" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sd-less-than-a-href" class="margin-toggle" /><span class="sidenote"><a href="https://developer.oculus.com/documentation/unity/unity-best-practices-intro/">https://developer.oculus.com/documentation/unity/unity-best-practices-intro/</a></span></li>
</ul></section>
<section><h2 id="adding-assets" style="position:relative;"><a href="#adding-assets" aria-label="adding assets permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Adding assets</h2></section>
<section><h2 id="references" style="position:relative;"><a href="#references" aria-label="references permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>References</h2><ul>
<li><a href="https://www.seas.upenn.edu/~pcozzi/OpenGLInsights/OpenGLInsights-TileBasedArchitectures.pdf">OpenGL Insights, Performance Tuning for Tile-Based Architectures</a> (PDF) by Bruce Merry - An in-depth chapter on the differences (and trade-offs) between Immediate-mode GPU and Tile-base GPU architectures.</li>
<li><a href="https://developer.oculus.com/downloads/package/oculus-openxr-mobile-sdk/">Oculus OpenXR Mobile SDK</a> - Oculus toolkit for integrating Oculus into your Unity project.</li>
<li><a href="https://developer.oculus.com/blog/down-the-rabbit-hole-w-oculus-quest-the-hardware-software/?locale=en_US">Down The Rabbit Hole w/ Oculus Quest: The Hardware + Software</a> - Chris Pruett, Oculus Blog, 2019 - An overview of some of the trade-offs when optimizing for an Oculus Quest.</li>
<li><a href="https://developer.oculus.com/documentation/tools/tools-logcat-stats/?locale=en_US">VrApi Stats Definition Guide</a> - Documentation on the logging format for <code class="language-text">logcat</code> output for Oculus Go and Quest.</li>
<li><a href="https://argos.vu/squeezing-performance-out-of-your-unity-gear-vr-game/">Squeezing Performance out of your Unity Gear VR Game</a> - 2016 article performance tuning in Unity; fantastic techniques; many still available on Oculus Quest.</li>
<li><a href="https://docs.unity3d.com/Manual/iphone-InternalProfiler.html">Measuring performance with the built-in profiler</a> - Unity Manual article; not sure if this is relevant.</li>
<li><a href="https://developer.oculus.com/blog/getting-started-w-the-unity-gpu-profiler-for-oculus-quest-and-go/">Getting Started w/ The Unity GPU Profiler for Oculus Quest and Go</a></li>
<li><a href="https://developer.oculus.com/documentation/unity/unity-perf/">Testing and Performance Analysis</a> - Overview of performance testing on the Oculus website - lists the targets, some tips, and shows some profiling and analysis options.</li>
<li><a href="https://developer.oculus.com/documentation/unity/unity-profiler-panel/">Oculus Profiler Panel</a></li>
</ul><hr><!--

https://developer.oculus.com/documentation/unity/book-unity-gsg/

- Android Marshmallow
- Deep Profiling Support
- Enable Frame Timing Stats
- Enable Internal Profile (Deprecated)
- Stack Trace full https://rpl.cat/lj2rjcNqSPeM972ddQeYcNIPAI63XSjzdxUsi5kc2QA


https://developer.oculus.com/documentation/unity/unity-best-practices-intro/

--></section></div><hr/><h2>Comments</h2><div class="sc-ifAKCX ddlDEo github"><div><p>Thanks for reading ❤️ – comment by replying to the <a href="https://github.com/jeffrafter/jeffrafter.github.io/issues/11">issue for this post</a>.<!-- --> <!-- -->There’s no comments yet; you could be the first.<br/></p></div><div class="sc-gzVnrw bOnSNx"><a href="https://github.com/jeffrafter/jeffrafter.github.io/issues/11#new_comment_field" target="_blank" rel="noreferrer noopener" class="button btn">Add a comment →</a></div></div><hr/><h2>There’s more to read</h2><div><p><em>Looking for more long-form posts? Here ya go...</em></p></div><ul class="sc-htoDjs gXLbcD"><li><a rel="prev" href="/getting-started-with-arduino-and-esp8266/">← <!-- -->Getting started with ESP8266 and Arduino</a></li><li><a rel="next" href="/unity-and-github/">Working with Unity and GitHub<!-- --> →</a></li></ul></div></article></main><footer class="sc-bwzfXH aCPwf footer">© <!-- -->2021<!-- -->,<!-- --> <a href="https://jeffrafter.com">jeffrafter.com</a>. Built with<!-- --> <a href="https://www.gatsbyjs.org">Gatsby</a></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-61511214-2', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/performance-tuning-for-mobile-vr/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-3b271d6a60df7cd92087.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-6846fb06ec67c7df9104.js"],"component---src-pages-about-tsx":["/component---src-pages-about-tsx-06b4f92e6d6da3e7e748.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-62ade78c2e0e44b33fb5.js"],"component---src-pages-tags-tsx":["/component---src-pages-tags-tsx-85ba1002141d5ed31e60.js"],"component---src-templates-post-tsx":["/component---src-templates-post-tsx-30b85df3d8081f386f13.js"],"component---src-templates-tag-tsx":["/component---src-templates-tag-tsx-1289ad2b8e0e8d66d692.js"]};/*]]>*/</script><script src="/component---src-templates-post-tsx-30b85df3d8081f386f13.js" async=""></script><script src="/commons-52923487d36b93dc329d.js" async=""></script><script src="/app-3b271d6a60df7cd92087.js" async=""></script><script src="/styles-fa79fef4936efa84b233.js" async=""></script><script src="/framework-8dcecaaefd71e2213eb2.js" async=""></script><script src="/webpack-runtime-38c8a4ef93b968ef91ae.js" async=""></script></body></html>